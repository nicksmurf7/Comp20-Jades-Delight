<!DOCTYPE html>
<html>
<head>
	<title>Receipt</title>
	<style>
		tr:nth-child(even) {
  			background-color: #dddddd;
		}
	</style>
</head>
<body>
	<h1 id = "h1"> </h1>
	<hr/>
	<div id = "time">
	</div>
	<div id = "order">
	</div>
	<div id = "total">
	</div>

	<script language="javascript">
		function MenuItem(name, cost)
		{
			this.name = name;
			this.cost=cost;
		}

		menuItems = new Array(
			new MenuItem("Chicken Chop Suey", 4.5),
			new MenuItem("Sweet and Sour Pork", 6.25),
			new MenuItem("Shrimp Lo Mein", 5.25),
			new MenuItem("Moo Shi Chicken", 6.5),
			new MenuItem("Fried Rice", 2.35)
		);

		var x = location.search.substring(1);
		var info = x.split("&");
		document.getElementById("h1").innerHTML +="Thank you " + info[0].split("=")[1] + " "+ info[1].split("=")[1] + ", we are preparing your order";

		var type = info[5].split("=")[1];
		var time = "";
		if(type == "pickup"){
			time = "<p><b>Estimate Pickup Time:&nbsp; </b>"+ Date(Date() + 15*60000) +"</p>";
		}else{
			time = "<p><b>Estimate Delivery Time:&nbsp; </b>" + Date(Date() + 30*60000)+" </p>";
		}
		document.getElementById("time").innerHTML += time;

		var order = `<table>
					<tr>
   						<th>Qty</th>
    					<th>Description</th>
    					<th>Cost Each($)</th>
    					<th>Amount($)</th>
  					</tr>`

		for(var i = 0; i <= 8; ++i){
			var qty = info[i].split("=")[1];
			if(qty != 0){
				description = menuItems[i].name;
				eachCost = menuItems[i].cost.toFixed(2);
				amount = info[i+1].split("=")[1]
				order += "<tr><td>" +  qty + "</td>";
    			order += "<td>" + description + "</td>";
    			order += "<td>" + eachCost + "</td>";
    			order += "<td>" + amount+ "</td></tr>";
  					
			}
		}
		order+= "</table>"
		document.getElementById("order").innerHTML += order;
		var total = info[18].split("=")[1];
		var subtotal = info[16].split("=")[1];
		var tax = info[17].split("=")[1];

		var info_total = "<p> <b>Subtotal: &nbsp; </b> $" + subtotal + " </p>";
		info_total += "<p> <b>Mass tax 6.25%: &nbsp;</b>$ " + tax + " </p>";
		info_total += "<p> <b>Total: &nbsp;</b> $" + total + " </p>";
		document.getElementById("total").innerHTML += info_total;

	</script>
</body>
</html>

